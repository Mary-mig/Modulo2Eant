<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>POO en Javascript</title>
</head>
<body>
	<h1> POO en Javascript</h1>
	<script src="producto.class.js"></script>
	<script>

		let unProducto = new Producto("Cafe Torrado", 340, 94.99, true) //<-Instanciando un objeto "Producto"
		let otroProducto = new Producto("Jugo de Naranja", 250, 55.85, false)
		let tercerProducto = new Producto("Té de manzana", 185, 199.99)

		otroProducto.aplicarDescuento(10)

		unProducto.Mostrar() //<-- Invoco al metodo Mostrar a través de la "instancia" del objeto Producto
		otroProducto.Mostrar()
		tercerProducto.Mostrar()

		//console.log ( otroProducto )
		//console.log ( unProducto )
		//console.log ( tercerProducto )

		/////////////////////////////
		//Aca programo cosas con AJAX

		const miniChrome =  new XMLHttpRequest()
		miniChrome.open ("GET","https://api.myjson.com/bins/1giaf3") // Metodo de instancia
		miniChrome.onload = function (){ //<-- Petición exitosa 
			
			console.log (this)

			 if (this.status == 200){ //<-- Respuesta exitosa
			
			 	console.log (this.response)

			 	//let productos = JSON.parse(this.response) //<-- de JSON a Object
			 	let producto = Producto.parse(this.response) //<-- de JSON a Producto Metodo de clase

			 	console.log(producto)
			 }

		}
		miniChrome.onerror =  function (){
			alert("datos no disponibles")
		}
		//miniChrome.send()// Metodo de Instancia


		

	</script>
</body>
</html>